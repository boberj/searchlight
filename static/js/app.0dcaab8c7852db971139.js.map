{"version":3,"sources":["webpack:///static/js/app.0dcaab8c7852db971139.js","webpack:///./src/utils/trie.js","webpack:///./src/lib/auth.js","webpack:///LandingPage.vue","webpack:///./src/components/Spotify.vue","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/repositories/playlist.js","webpack:///./src/utils/unfold.js","webpack:///./src/utils/adt/freeze.js","webpack:///./src/components/LandingPage.vue?d9b7","webpack:///./src/utils/adt/copy.js","webpack:///./src/lib/spotify.js","webpack:///./src/services/playlists.js","webpack:///./src/lib/database.js","webpack:///Spotify.vue","webpack:///./src/store.js","webpack:///./src/App.vue?b895","webpack:///./src/services/search.js","webpack:///./node_modules/moment/locale ^\\.\\/.*$","webpack:///./src/components/LandingPage.vue","webpack:///./src/components/Spotify.vue?9242","webpack:///App.vue"],"names":["webpackJsonp","/k4W","module","exports","54YJ","8heu","__webpack_exports__","__webpack_require__","Node","this","values","children","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default","__WEBPACK_IMPORTED_MODULE_2_ramda__","create","paths","entries","trie","forEach","entry","path","getValues","splitAndCleanup","value","insert","obj","i","length","Array","val","word","root","node","getLocation","push","letter","child","find","phrase","results","doFind","mergedResults","intersection","a","toArray","prefix","collect","_ref","key","set","list","result","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","next","done","item","has","add","err","return","array","AZo+","__WEBPACK_IMPORTED_MODULE_0_lockr__","__WEBPACK_IMPORTED_MODULE_0_lockr___default","__WEBPACK_IMPORTED_MODULE_1_folktale_maybe__","__WEBPACK_IMPORTED_MODULE_1_folktale_maybe___default","__WEBPACK_IMPORTED_MODULE_3_url__","__WEBPACK_IMPORTED_MODULE_3_url___default","decode","fromNullable","map","decodeURIComponent","getOrElse","parseHash","hash","substring","split","param","getSessionFromHash","parsedHash","accessToken","access_token","expiresAt","expires_in","sessionLength","Date","now","toSession","Just","ap","getSessionFromLocalStorage","get","authenticateUrl","format","protocol","host","pathname","query","client_id","response_type","redirect_uri","scope","getSession","orElse","filter","isValid","saveSession","session","AtOw","GZQa","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1__lib_auth__","__WEBPACK_IMPORTED_MODULE_2_vuex__","__WEBPACK_IMPORTED_MODULE_3__store__","name","data","created","State","computed","Object","filters","inPercent","progress","Math","round","LmLQ","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Spotify_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_770250fb_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Spotify_vue__","normalizeComponent","__vue_styles__","Component","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7dd44217_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","NHnr","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_3_vuex__","__WEBPACK_IMPORTED_MODULE_4_vue_moment__","__WEBPACK_IMPORTED_MODULE_4_vue_moment___default","__WEBPACK_IMPORTED_MODULE_5__App__","__WEBPACK_IMPORTED_MODULE_6__lib_auth__","__WEBPACK_IMPORTED_MODULE_7__lib_database__","__WEBPACK_IMPORTED_MODULE_8__lib_spotify__","__WEBPACK_IMPORTED_MODULE_9__store__","_this","config","productionTip","use","window","location","history","replaceState","createApp","store","el","template","components","App","mounted","$nextTick","Authenticated","hasInstance","$store","state","dispatch","onUnauthenticated","mark","_callee","wrap","_context","prev","createUnauthenticatedStore","stop","apply","arguments","onAuthenticated","_ref2","_callee2","db","spotify","_context2","createDb","createClient","sent","createAuthenticatedStore","_x","fold","RCJw","playlists","bulkPut","findAll","delete","keys","bulkDelete","T4BS","d","unfoldAsync","Unfold","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_folktale_adt_union_union__","Continue","Done","Fail","error","Retry","delayMs","delay","fn","resolve","reject","setTimeout","then","onSuccess","onError","seed","doUnfold","acc","unfold","matchWith","concat","_ref3","_ref4","WchK","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default","freeze","variant","adt","prototype","YeaO","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","xmlns","viewBox","enable-background","staticStyle","text-indent","text-align","line-height","text-transform","block-progression","-inkscape-font-specification","overflow","font-family","_v","_m","mode","Unauthenticated","href","_e","Syncing","_s","_f","Indexing","Ready","staticRenderFns","esExports","ZVfT","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptors__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptors___default","copy","properties","existingProperties","updatedProperties","property","Error","tag","hhrL","__WEBPACK_IMPORTED_MODULE_2_spotify_web_api_js__","__WEBPACK_IMPORTED_MODULE_2_spotify_web_api_js___default","__WEBPACK_IMPORTED_MODULE_3__utils_unfold__","response","items","offset","limit","shouldRetry","status","unfoldFn","getUserPlaylists","client","userId","fields","getPlaylistTracks","ownerId","playlistId","token","setAccessToken","getMe","id","console","debug","abrupt","tracks","iaSn","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_slicedToArray___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_4_ramda__","__WEBPACK_IMPORTED_MODULE_5__repositories_playlist__","syncPlaylists","progressCallback","currentPlaylists","dbPlaylists","playlistsToAdd","playlistsToDelete","playlist","playlistWithTracks","log","all","getPlaylistsToAdd","getPlaylistsToDelete","owner","_x2","_x3","oldPlaylists","oldPlaylistsById","inOldPlaylist","snapshotIdDiffers","snapshot_id","currentPlaylistsById","inCurrentPlaylist","jl9j","__WEBPACK_IMPORTED_MODULE_0_dexie__","version","stores","oaQm","__WEBPACK_IMPORTED_MODULE_1_debounce__","__WEBPACK_IMPORTED_MODULE_1_debounce___default","__WEBPACK_IMPORTED_MODULE_2_moment__","__WEBPACK_IMPORTED_MODULE_2_moment___default","__WEBPACK_IMPORTED_MODULE_3__services_search__","methods","runSearch","search","index","watch","mkArtistString","artists","artist","join","readableDuration","duration","floor","minutes","hours","days","inRelativeTime","instant","date","fromNow","inCalendarTime","calendar","olkN","__WEBPACK_IMPORTED_MODULE_2__utils_adt_copy__","__WEBPACK_IMPORTED_MODULE_3__utils_adt_freeze__","__WEBPACK_IMPORTED_MODULE_4__repositories_playlist__","__WEBPACK_IMPORTED_MODULE_5__services_playlists__","__WEBPACK_IMPORTED_MODULE_6_ramda__","__WEBPACK_IMPORTED_MODULE_7__services_search__","__WEBPACK_IMPORTED_MODULE_8_folktale_adt_union_union__","__WEBPACK_IMPORTED_MODULE_9_vuex__","derive","Store","mutations","syncing","indexing","ready","actions","sync","commit","loadPlaylists","_this2","createIndex","transformPlaylists","context","addPlaylist","removeItemsWithEmptyTrack","track","qiKV","currentView","rNkk","__WEBPACK_IMPORTED_MODULE_0__utils_trie__","uslO","webpackContext","req","webpackContextResolve","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","wSyU","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_LandingPage_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1342f507_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LandingPage_vue__","wxI/","directives","rawName","expression","placeholder","type","domProps","on","input","$event","target","composing","_l","album","title","added_at","xJD8","__WEBPACK_IMPORTED_MODULE_0__components_LandingPage_vue__","__WEBPACK_IMPORTED_MODULE_1__components_Spotify_vue__","__WEBPACK_IMPORTED_MODULE_2__store__","Spotify","LandingPage"],"mappings":"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AC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,gBAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,UAAA,OACAC,aAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,OAAA,OACAC,UAAA,OACAC,aAAA,OACAC,UAAA,OACAC,OAAA,OAC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","file":"static/js/app.0dcaab8c7852db971139.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/k4W\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"54YJ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"8heu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(\"BO1k\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set__ = __webpack_require__(\"lHA8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ramda__ = __webpack_require__(\"ivXw\");\n\n\n\n\nfunction Node() {\n  this.values = [];\n  this.children = {};\n}\n\nvar create = function create(paths, entries) {\n  var trie = new Node();\n\n  entries.forEach(function (entry) {\n    paths.forEach(function (path) {\n      var values = getValues(entry, 0, path);\n      __WEBPACK_IMPORTED_MODULE_2_ramda__[\"b\" /* chain */](splitAndCleanup, values).forEach(function (value) {\n        insert(value, entry, 0, trie);\n      });\n    });\n  });\n\n  return trie;\n};\n\n/**\r\n * Finds a value in an object structure by following the given path.\r\n * If any step of the path is an array all values will be collected.\r\n *\r\n * @param {*} obj Object to walk\r\n * @param {*} i Current step in the walk\r\n * @param {*} path Path to follow\r\n * @returns {Array<String>} List of found values\r\n */\nvar getValues = function getValues(obj, i, path) {\n  var value = obj;\n\n  while (i < path.length) {\n    value = value[path[i]];\n    i++;\n\n    if (value instanceof Array) {\n      return __WEBPACK_IMPORTED_MODULE_2_ramda__[\"b\" /* chain */](function (val) {\n        return getValues(val, i, path);\n      }, value);\n    }\n  }\n\n  return [value];\n};\n\nvar insert = function insert(word, value, i, root) {\n  if (word.length === 0) {\n    return;\n  }\n\n  var node = getLocation(word[i], root);\n\n  if (word.length - 1 === i) {\n    node.values.push(value);\n  } else {\n    insert(word, value, i + 1, node);\n  }\n};\n\nvar getLocation = function getLocation(letter, node) {\n  var child = node.children[letter];\n\n  if (!child) {\n    child = new Node();\n    node.children[letter] = child;\n  }\n\n  return child;\n};\n\nvar find = function find(root, phrase) {\n  var results = __WEBPACK_IMPORTED_MODULE_2_ramda__[\"g\" /* map */](doFind(root), splitAndCleanup(phrase));\n\n  var mergedResults = __WEBPACK_IMPORTED_MODULE_2_ramda__[\"j\" /* reduce */](intersection, new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default.a(__WEBPACK_IMPORTED_MODULE_2_ramda__[\"e\" /* head */](results)), __WEBPACK_IMPORTED_MODULE_2_ramda__[\"l\" /* tail */](results));\n\n  return toArray(mergedResults);\n};\n\nvar doFind = function doFind(root) {\n  return function (prefix) {\n    // Find start node\n    var node = root;\n    var i = 0;\n    while (node && i < prefix.length) {\n      node = node.children[prefix[i]];\n      i++;\n    }\n\n    // For performance\n    var results = [];\n    var collect = function collect(_ref) {\n      var values = _ref.values,\n          children = _ref.children;\n\n      values.forEach(function (value) {\n        return results.push(value);\n      });\n\n      for (var key in children) {\n        collect(children[key]);\n      }\n    };\n\n    if (node) {\n      collect(node);\n    }\n\n    return results;\n  };\n};\n\nvar intersection = function intersection(set, list) {\n  var result = new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_set___default.a();\n\n  // Can't optimize by swapping list and set if list > set since converting the list to Set is O(n)\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(list), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var item = _step.value;\n\n      if (set.has(item)) {\n        result.add(item);\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return result;\n};\n\nvar splitAndCleanup = __WEBPACK_IMPORTED_MODULE_2_ramda__[\"h\" /* pipe */](__WEBPACK_IMPORTED_MODULE_2_ramda__[\"n\" /* trim */], __WEBPACK_IMPORTED_MODULE_2_ramda__[\"m\" /* toLower */], __WEBPACK_IMPORTED_MODULE_2_ramda__[\"k\" /* split */](/\\s+/));\n\nvar toArray = function toArray(set) {\n  var array = [];\n\n  set.forEach(function (value) {\n    return array.push(value);\n  });\n\n  return array;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  create: create,\n  find: find\n});\n\n/***/ }),\n\n/***/ \"AZo+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lockr__ = __webpack_require__(\"RRJN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lockr___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lockr__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_folktale_maybe__ = __webpack_require__(\"DDVv\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_folktale_maybe___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_folktale_maybe__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ramda__ = __webpack_require__(\"ivXw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_url__ = __webpack_require__(\"UZ5h\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_url___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_url__);\n\n\n\n\n\nvar SESSION_KEY = 'session';\n\nvar decode = function decode(value) {\n  return __WEBPACK_IMPORTED_MODULE_1_folktale_maybe___default.a.fromNullable(value).map(decodeURIComponent).getOrElse(null);\n};\n\nvar parseHash = function parseHash(hash) {\n  return __WEBPACK_IMPORTED_MODULE_2_ramda__[\"d\" /* fromPairs */](hash.substring(1).split('&').map(function (param) {\n    return param.split('=').map(decode);\n  }));\n};\n\nvar getSessionFromHash = function getSessionFromHash(hash) {\n  var parsedHash = parseHash(hash);\n  var accessToken = __WEBPACK_IMPORTED_MODULE_1_folktale_maybe___default.a.fromNullable(parsedHash.access_token);\n  var expiresAt = __WEBPACK_IMPORTED_MODULE_1_folktale_maybe___default.a.fromNullable(parsedHash.expires_in).map(function (sessionLength) {\n    return Date.now() + sessionLength * 1000;\n  });\n  var toSession = function toSession(accessToken) {\n    return function (expiresAt) {\n      return { accessToken: accessToken, expiresAt: expiresAt };\n    };\n  };\n\n  return __WEBPACK_IMPORTED_MODULE_1_folktale_maybe___default.a.Just(toSession).ap(accessToken).ap(expiresAt);\n};\n\nvar getSessionFromLocalStorage = function getSessionFromLocalStorage() {\n  return __WEBPACK_IMPORTED_MODULE_1_folktale_maybe___default.a.fromNullable(__WEBPACK_IMPORTED_MODULE_0_lockr___default.a.get(SESSION_KEY));\n};\n\nvar authenticateUrl = __WEBPACK_IMPORTED_MODULE_3_url___default.a.format({\n  protocol: 'https',\n  host: 'accounts.spotify.com',\n  pathname: '/authorize',\n  query: {\n    client_id: '8ff22b4d074b418b9a20d935f59e0373',\n    response_type: 'token',\n    redirect_uri: \"https://boberj.github.io/searchlight\",\n    // TODO state:\n    scope: 'playlist-read-private playlist-read-collaborative user-library-read'\n  }\n});\n\nvar getSession = function getSession(hash) {\n  return getSessionFromHash(hash).orElse(getSessionFromLocalStorage).filter(isValid);\n};\n\nvar saveSession = function saveSession(session) {\n  __WEBPACK_IMPORTED_MODULE_0_lockr___default.a.set(SESSION_KEY, session);\n};\n\nvar isValid = function isValid(session) {\n  return session.expiresAt > Date.now();\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  authenticateUrl: authenticateUrl,\n  getSession: getSession,\n  saveSession: saveSession\n});\n\n/***/ }),\n\n/***/ \"AtOw\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"GZQa\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(\"Dd8w\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__lib_auth__ = __webpack_require__(\"AZo+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store__ = __webpack_require__(\"olkN\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'LandingPage',\n  data: function data() {\n    return {\n      authenticateUrl: __WEBPACK_IMPORTED_MODULE_1__lib_auth__[\"a\" /* default */].authenticateUrl\n    };\n  },\n  created: function created() {\n    this.State = __WEBPACK_IMPORTED_MODULE_3__store__[\"a\" /* State */];\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, Object(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapState */])(['state'])),\n  filters: {\n    inPercent: function inPercent(progress) {\n      return Math.round(progress * 100) + '%';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"LmLQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Spotify_vue__ = __webpack_require__(\"oaQm\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_770250fb_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Spotify_vue__ = __webpack_require__(\"wxI/\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"54YJ\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-770250fb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Spotify_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_770250fb_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Spotify_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7dd44217_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"qiKV\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"AtOw\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7dd44217_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(\"Xxa5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(\"exGp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vuex__ = __webpack_require__(\"NYxO\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_moment__ = __webpack_require__(\"mjDs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lib_auth__ = __webpack_require__(\"AZo+\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lib_database__ = __webpack_require__(\"jl9j\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lib_spotify__ = __webpack_require__(\"hhrL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__store__ = __webpack_require__(\"olkN\");\n\n\n\nvar _this = this;\n\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].config.productionTip = false;\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_3_vuex__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_4_vue_moment___default.a);\n\nvar hash = window.location.hash;\n\n// Remove hash in location bar, if any\nhistory.replaceState(null, '', window.location.pathname);\n\nvar createApp = function createApp(store) {\n  /* eslint-disable no-new */\n  new __WEBPACK_IMPORTED_MODULE_2_vue__[\"a\" /* default */]({\n    el: '#app',\n    store: store,\n    template: '<App/>',\n    components: { App: __WEBPACK_IMPORTED_MODULE_5__App__[\"a\" /* default */] },\n    mounted: function mounted() {\n      this.$nextTick(function () {\n        if (__WEBPACK_IMPORTED_MODULE_9__store__[\"a\" /* State */].Authenticated.hasInstance(this.$store.state.state)) {\n          return this.$store.dispatch('sync');\n        }\n      });\n    }\n  });\n};\n\nvar onUnauthenticated = function () {\n  var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n    var store;\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            store = __WEBPACK_IMPORTED_MODULE_9__store__[\"b\" /* default */].createUnauthenticatedStore();\n\n\n            createApp(store);\n\n          case 2:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n\n  return function onUnauthenticated() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar onAuthenticated = function () {\n  var _ref2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2(session) {\n    var db, spotify, store;\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            __WEBPACK_IMPORTED_MODULE_6__lib_auth__[\"a\" /* default */].saveSession(session);\n            db = __WEBPACK_IMPORTED_MODULE_7__lib_database__[\"a\" /* default */].createDb();\n            _context2.next = 4;\n            return __WEBPACK_IMPORTED_MODULE_8__lib_spotify__[\"a\" /* default */].createClient(session.accessToken);\n\n          case 4:\n            spotify = _context2.sent;\n            store = __WEBPACK_IMPORTED_MODULE_9__store__[\"b\" /* default */].createAuthenticatedStore(db, spotify);\n\n\n            createApp(store);\n\n          case 7:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, _this);\n  }));\n\n  return function onAuthenticated(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n__WEBPACK_IMPORTED_MODULE_6__lib_auth__[\"a\" /* default */].getSession(hash).fold(onUnauthenticated, onAuthenticated);\n\n/***/ }),\n\n/***/ \"RCJw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*\nPlaylist {\n  id\n  name\n  snapshot_id\n  owner {\n    id\n  }\n  tracks [{\n    added_at\n    track {\n      album {\n        name\n      }\n      artists [{\n        name\n      }]\n      duration_ms\n      name\n    }\n  }]\n}\n*/\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  add: function add(db, playlists) {\n    return db.playlists.bulkPut(playlists);\n  },\n  findAll: function findAll(db) {\n    return db.playlists.toArray();\n  },\n  delete: function _delete(db, keys) {\n    return db.playlists.bulkDelete(keys);\n  }\n});\n\n/***/ }),\n\n/***/ \"T4BS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return unfoldAsync; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Unfold; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_folktale_adt_union_union__ = __webpack_require__(\"hgR7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_folktale_adt_union_union___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_folktale_adt_union_union__);\n\n\n\nvar Unfold = __WEBPACK_IMPORTED_MODULE_1_folktale_adt_union_union__('Unfold', {\n  Continue: function Continue(value, next) {\n    return { value: value, next: next };\n  },\n  Done: function Done(value) {\n    return { value: value };\n  },\n  Fail: function Fail(error) {\n    return { error: error };\n  },\n  Retry: function Retry(delayMs) {\n    return { delayMs: delayMs };\n  }\n});\n\nvar delay = function delay(fn, _delay) {\n  return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n    setTimeout(function () {\n      return fn().then(resolve, reject);\n    }, _delay);\n  });\n};\n\nvar unfoldAsync = function unfoldAsync(onSuccess, onError) {\n  return function (fn) {\n    return function (seed) {\n      var doUnfold = function doUnfold(value, acc) {\n        return fn(value).then(onSuccess, onError).then(function (unfold) {\n          return unfold.matchWith({\n            Continue: function Continue(_ref) {\n              var value = _ref.value,\n                  next = _ref.next;\n              return doUnfold(next, acc.concat(value));\n            },\n            Done: function Done(_ref2) {\n              var value = _ref2.value;\n              return acc.concat(value);\n            },\n            Fail: function Fail(_ref3) {\n              var error = _ref3.error;\n              return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a.reject(error);\n            },\n            Retry: function Retry(_ref4) {\n              var delayMs = _ref4.delayMs;\n              return delay(function () {\n                return doUnfold(value, acc);\n              }, delayMs);\n            }\n          });\n        });\n      };\n\n      return doUnfold(seed, []);\n    };\n  };\n};\n\n\n\n/***/ }),\n\n/***/ \"WchK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__ = __webpack_require__(\"u2KI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__);\n\nvar freeze = function freeze(variant, adt) {\n  variant.prototype.freeze = function () {\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default()(this);\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (freeze);\n\n/***/ }),\n\n/***/ \"YeaO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('svg',{staticClass:\"logo\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 26 26\",\"enable-background\":\"new 0 0 26 26\"}},[_c('path',{staticStyle:{\"text-indent\":\"0\",\"text-align\":\"start\",\"line-height\":\"normal\",\"text-transform\":\"none\",\"block-progression\":\"tb\",\"-inkscape-font-specification\":\"Bitstream Vera Sans\"},attrs:{\"d\":\"M 24.90625 0 L 6.40625 9.90625 C 7.10625 10.20625 7.7125 10.6875 8.3125 11.1875 L 24.90625 0 z M 26 1 L 10.8125 14.5 C 11.2125 15.4 11.5 16.2875 11.5 17.1875 L 26 1 z M 4.6875 11 C 4.259375 10.978125 3.85 11.0875 3.5 11.3125 C 2.9 11.7125 1.3125 12.6875 0.8125 13.1875 C 0.10185489 13.819232 -0.050850725 14.834951 0.0625 15.75 C 0.18705289 16.75548 0.59446728 17.811096 1.28125 18.84375 C 1.9680327 19.876403 2.8083844 20.683854 3.6875 21.1875 C 4.5666156 21.691146 5.6522602 21.949119 6.5625 21.34375 C 6.67628 21.268079 6.7836897 21.183309 6.875 21.09375 C 7.2613973 20.861356 7.6245781 20.672784 8.0625 20.375 C 8.0112336 21.556565 7.7890902 22.565385 7.40625 23.1875 C 7.00625 23.7875 6.6875 24 6.1875 24 C 5.9875 24 5.49375 23.7875 5.09375 22.6875 C 4.49375 22.6875 3.7875 22.39375 3.1875 22.09375 C 3.39 22.8025 3.6600324 23.447444 3.96875 24 C 3.897899 24.035757 2 25.018382 2 26 L 11 26 C 11 25.018382 9.102101 24.035757 9.03125 24 C 9.5999184 22.672839 9.7497174 20.853053 9.625 19.03125 C 10.314436 17.841066 9.9918702 15.781282 8.6875 13.90625 C 7.4875 12.18125 5.971875 11.065625 4.6875 11 z M 2.125 14.65625 C 2.13487 14.64965 2.3803576 14.604964 2.90625 14.90625 C 3.4321424 15.207534 4.0879197 15.817441 4.625 16.625 C 5.1620803 17.43256 5.4567416 18.304765 5.53125 18.90625 C 5.605758 19.507734 5.478616 19.649689 5.46875 19.65625 C 5.45888 19.66285 5.2133925 19.770035 4.6875 19.46875 C 4.1616071 19.167466 3.5058303 18.52631 2.96875 17.71875 C 2.4316697 16.911191 2.1057584 16.101484 2.03125 15.5 C 1.956742 14.898516 2.115134 14.662812 2.125 14.65625 z\",\"overflow\":\"visible\",\"enable-background\":\"accumulate\",\"font-family\":\"Bitstream Vera Sans\"}})]),_vm._v(\" \"),_c('h1',[_vm._v(\"Searchlight for Spotify\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"Find your lost songs\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"status\",\"mode\":\"out-in\"}},[(_vm.State.Unauthenticated.hasInstance(_vm.state))?_c('p',{key:\"unauthenticated\"},[_vm._v(\"Authenticate with Spotify to \"),_c('a',{attrs:{\"href\":_vm.authenticateUrl}},[_vm._v(\"begin.\")])]):_vm._e(),_vm._v(\" \"),(_vm.State.Syncing.hasInstance(_vm.state))?_c('p',{key:\"syncing\"},[_vm._v(\"Loading your playlists \"+_vm._s(_vm._f(\"inPercent\")(_vm.state.progress)))]):_vm._e(),_vm._v(\" \"),(_vm.State.Indexing.hasInstance(_vm.state))?_c('p',{key:\"indexing\"},[_vm._v(\"Indexing\")]):_vm._e(),_vm._v(\" \"),(_vm.State.Ready.hasInstance(_vm.state))?_c('p',{key:\"ready\"},[_vm._v(\"Your tracks are waiting to be found!\")]):_vm._e()])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Searchlight for Spotify shows you not only what songs you've saved but also \"),_c('i',[_vm._v(\"where\")]),_vm._v(\" you saved them.\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"ZVfT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(\"woOf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(\"OvRC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptors__ = __webpack_require__(\"jJmG\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptors___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptors__);\n\n\n\n\nvar copy = function copy(variant, adt) {\n  variant.prototype.copy = function () {\n    var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var existingProperties = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptors___default()(this);\n    var updatedProperties = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_get_own_property_descriptors___default()(properties);\n\n    // Validate variant has updated properties\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default()(updatedProperties).forEach(function (property) {\n      if (!existingProperties[property]) {\n        throw new Error(\"Can't update unknown property '\" + property + \"' on \" + variant.tag);\n      }\n    });\n\n    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(variant.prototype, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()(existingProperties, updatedProperties));\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (copy);\n\n/***/ }),\n\n/***/ \"hhrL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(\"Xxa5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(\"exGp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_spotify_web_api_js__ = __webpack_require__(\"vRVh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_spotify_web_api_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_spotify_web_api_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_unfold__ = __webpack_require__(\"T4BS\");\n\n\n\nvar _this = this;\n\n\n\n\nvar onSuccess = function onSuccess(response) {\n  return response.next ? __WEBPACK_IMPORTED_MODULE_3__utils_unfold__[\"a\" /* Unfold */].Continue(response.items, response.offset + response.limit) : __WEBPACK_IMPORTED_MODULE_3__utils_unfold__[\"a\" /* Unfold */].Done(response.items);\n};\n\nvar shouldRetry = function shouldRetry(response) {\n  return response && response.status === 429;\n};\n\nvar onError = function onError(error) {\n  return shouldRetry(error) ? __WEBPACK_IMPORTED_MODULE_3__utils_unfold__[\"a\" /* Unfold */].Retry(3000) : __WEBPACK_IMPORTED_MODULE_3__utils_unfold__[\"a\" /* Unfold */].Fail(error);\n};\n\nvar unfoldFn = Object(__WEBPACK_IMPORTED_MODULE_3__utils_unfold__[\"b\" /* unfoldAsync */])(onSuccess, onError);\n\nvar getUserPlaylists = function getUserPlaylists(client, userId) {\n  return unfoldFn(function (offset) {\n    return client.getUserPlaylists(userId, {\n      limit: 50,\n      offset: offset,\n      fields: 'items(id,name,snapshot_id,owner.id),limit,next,offset'\n    });\n  })(0);\n};\n\nvar getPlaylistTracks = function getPlaylistTracks(client, ownerId, playlistId) {\n  return unfoldFn(function (offset) {\n    return client.getPlaylistTracks(ownerId, playlistId, {\n      limit: 100,\n      offset: offset,\n      fields: 'items(added_at,track(album.name,artists.name,duration_ms,name)),limit,next,offset'\n    });\n  })(0);\n};\n\nvar createClient = function () {\n  var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(token) {\n    var client, _ref2, userId;\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            client = new __WEBPACK_IMPORTED_MODULE_2_spotify_web_api_js___default.a();\n\n            client.setAccessToken(token);\n\n            _context.next = 4;\n            return client.getMe();\n\n          case 4:\n            _ref2 = _context.sent;\n            userId = _ref2.id;\n\n\n            console.debug('Spotify client initialized');\n\n            return _context.abrupt('return', {\n              playlists: function playlists() {\n                return getUserPlaylists(client, userId);\n              },\n              tracks: function tracks(ownerId, playlistId) {\n                return getPlaylistTracks(client, ownerId, playlistId);\n              }\n            });\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n\n  return function createClient(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  createClient: createClient\n});\n\n/***/ }),\n\n/***/ \"iaSn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(\"Xxa5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(\"//Fk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_slicedToArray__ = __webpack_require__(\"d7EF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(\"exGp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_ramda__ = __webpack_require__(\"ivXw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__repositories_playlist__ = __webpack_require__(\"RCJw\");\n\n\n\n\n\nvar _this = this;\n\n\n\n\n/**\n * Adds new playlists to the database\n * Updates outdated ones\n * Deletes no longer existing ones\n *\n * @param db\n * @param spotify\n * @param progressCallback\n * @returns {Promise.<void>}\n */\nvar syncPlaylists = function () {\n  var _ref = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(db, spotify, progressCallback) {\n    var _ref2, _ref3, currentPlaylists, dbPlaylists, playlistsToAdd, playlistsToDelete, i, playlist, tracks, playlistWithTracks;\n\n    return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('Syncing');\n\n            _context.next = 3;\n            return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all([spotify.playlists(), __WEBPACK_IMPORTED_MODULE_5__repositories_playlist__[\"a\" /* default */].findAll(db)]);\n\n          case 3:\n            _ref2 = _context.sent;\n            _ref3 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_slicedToArray___default()(_ref2, 2);\n            currentPlaylists = _ref3[0];\n            dbPlaylists = _ref3[1];\n            playlistsToAdd = getPlaylistsToAdd(currentPlaylists, dbPlaylists);\n            playlistsToDelete = getPlaylistsToDelete(currentPlaylists, dbPlaylists);\n\n\n            console.log('Adding/updating ' + playlistsToAdd.length + ' playlists');\n            console.log('Deleting ' + playlistsToDelete.length + ' playlists');\n\n            i = 0;\n\n          case 12:\n            if (!(i < playlistsToAdd.length)) {\n              _context.next = 25;\n              break;\n            }\n\n            playlist = playlistsToAdd[i];\n\n            console.log('Adding playlist ' + playlist.name + ' ' + playlist.id);\n            _context.next = 17;\n            return spotify.tracks(playlist.owner.id, playlist.id);\n\n          case 17:\n            tracks = _context.sent;\n            playlistWithTracks = __WEBPACK_IMPORTED_MODULE_4_ramda__[\"a\" /* assoc */]('items', tracks, playlist);\n            _context.next = 21;\n            return __WEBPACK_IMPORTED_MODULE_5__repositories_playlist__[\"a\" /* default */].add(db, [playlistWithTracks]);\n\n          case 21:\n            progressCallback((i + 1) / playlistsToAdd.length);\n\n          case 22:\n            i++;\n            _context.next = 12;\n            break;\n\n          case 25:\n            _context.next = 27;\n            return __WEBPACK_IMPORTED_MODULE_5__repositories_playlist__[\"a\" /* default */].delete(db, __WEBPACK_IMPORTED_MODULE_4_ramda__[\"g\" /* map */](__WEBPACK_IMPORTED_MODULE_4_ramda__[\"i\" /* prop */]('id'), playlistsToDelete));\n\n          case 27:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n\n  return function syncPlaylists(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * Finds any playlist that only exists in the new list or the snapshot ids don't match\n *\n * @param currentPlaylists\n * @param oldPlaylists\n */\nvar getPlaylistsToAdd = function getPlaylistsToAdd(currentPlaylists, oldPlaylists) {\n  var oldPlaylistsById = __WEBPACK_IMPORTED_MODULE_4_ramda__[\"f\" /* indexBy */](__WEBPACK_IMPORTED_MODULE_4_ramda__[\"i\" /* prop */]('id'), oldPlaylists);\n  var inOldPlaylist = function inOldPlaylist(playlist) {\n    return oldPlaylistsById[playlist.id] !== undefined;\n  };\n  var snapshotIdDiffers = function snapshotIdDiffers(playlist) {\n    return oldPlaylistsById[playlist.id].snapshot_id !== playlist.snapshot_id;\n  };\n\n  return __WEBPACK_IMPORTED_MODULE_4_ramda__[\"c\" /* filter */](function (playlist) {\n    return !inOldPlaylist(playlist) || snapshotIdDiffers(playlist);\n  }, currentPlaylists);\n};\n\n/**\n * Finds any playlist that only exists in the old list\n *\n * @param currentPlaylists\n * @param oldPlaylists\n */\nvar getPlaylistsToDelete = function getPlaylistsToDelete(currentPlaylists, oldPlaylists) {\n  var currentPlaylistsById = __WEBPACK_IMPORTED_MODULE_4_ramda__[\"f\" /* indexBy */](__WEBPACK_IMPORTED_MODULE_4_ramda__[\"i\" /* prop */]('id'), currentPlaylists);\n  var inCurrentPlaylist = function inCurrentPlaylist(playlist) {\n    return currentPlaylistsById[playlist.id] !== undefined;\n  };\n\n  return __WEBPACK_IMPORTED_MODULE_4_ramda__[\"c\" /* filter */](function (playlist) {\n    return !inCurrentPlaylist(playlist);\n  }, oldPlaylists);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  syncPlaylists: syncPlaylists,\n  getPlaylistsToAdd: getPlaylistsToAdd,\n  getPlaylistsToDelete: getPlaylistsToDelete\n});\n\n/***/ }),\n\n/***/ \"jl9j\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_dexie__ = __webpack_require__(\"YwQ6\");\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  createDb: function createDb() {\n    var db = new __WEBPACK_IMPORTED_MODULE_0_dexie__[\"a\" /* default */]('searchlight');\n\n    db.version(1).stores({\n      playlists: 'id'\n    });\n\n    return db;\n  }\n});\n\n/***/ }),\n\n/***/ \"oaQm\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__ = __webpack_require__(\"u2KI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_debounce__ = __webpack_require__(\"HhAh\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_debounce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_debounce__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment__ = __webpack_require__(\"PJh5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_search__ = __webpack_require__(\"rNkk\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'Spotify',\n  methods: {\n    runSearch: __WEBPACK_IMPORTED_MODULE_1_debounce___default()(function () {\n      this.search.results = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_freeze___default()(__WEBPACK_IMPORTED_MODULE_3__services_search__[\"a\" /* default */].find(this.$store.state.state.index, this.query));\n    }, 200)\n  },\n  watch: {\n    query: function query() {\n      if (this.query.length > 1) {\n        this.runSearch();\n      } else {\n        this.search.results = [];\n      }\n    }\n  },\n  filters: {\n    mkArtistString: function mkArtistString(artists) {\n      if (!artists) return;\n      return artists.map(function (artist) {\n        return artist.name;\n      }).join(', ');\n    },\n    readableDuration: function readableDuration(duration) {\n      duration = Math.floor(duration / 60); // In minutes\n      var minutes = duration % 60;\n      duration = Math.floor(duration / 60); // In hours\n      var hours = duration % 24;\n      var days = Math.floor(duration / 24); // In days\n\n      if (days > 0) return days + ' days ' + hours + ' hrs ' + minutes + ' mins';\n      if (hours > 0) return hours + ' hrs ' + minutes + ' mins';\n      if (minutes > 0) return minutes + ' mins';\n      return '0 mins';\n    },\n    inRelativeTime: function inRelativeTime(instant) {\n      var date = __WEBPACK_IMPORTED_MODULE_2_moment___default()(instant);\n      return date.isValid() ? date.fromNow() : '';\n    },\n    inCalendarTime: function inCalendarTime(instant) {\n      var date = __WEBPACK_IMPORTED_MODULE_2_moment___default()(instant);\n      return date.isValid() ? date.calendar() : '';\n    }\n  },\n  computed: {},\n  data: function data() {\n    return {\n      query: '',\n      search: {\n        results: []\n      }\n    };\n  }\n});\n\n/***/ }),\n\n/***/ \"olkN\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return State; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(\"Xxa5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(\"exGp\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_adt_copy__ = __webpack_require__(\"ZVfT\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_adt_freeze__ = __webpack_require__(\"WchK\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__repositories_playlist__ = __webpack_require__(\"RCJw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__services_playlists__ = __webpack_require__(\"iaSn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ramda__ = __webpack_require__(\"ivXw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__services_search__ = __webpack_require__(\"rNkk\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_folktale_adt_union_union__ = __webpack_require__(\"hgR7\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_folktale_adt_union_union___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_folktale_adt_union_union__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vuex__ = __webpack_require__(\"NYxO\");\n\n\n\n\n\n\n\n\n\n\n\nvar State = __WEBPACK_IMPORTED_MODULE_8_folktale_adt_union_union__('State', {\n  Authenticated: function Authenticated() {},\n  Indexing: function Indexing() {},\n  Ready: function Ready(index) {\n    return { index: index };\n  },\n  Syncing: function Syncing(progress) {\n    return { progress: progress };\n  },\n  Unauthenticated: function Unauthenticated() {}\n}).derive(__WEBPACK_IMPORTED_MODULE_2__utils_adt_copy__[\"a\" /* default */], __WEBPACK_IMPORTED_MODULE_3__utils_adt_freeze__[\"a\" /* default */]);\n\nvar createUnauthenticatedStore = function createUnauthenticatedStore() {\n  return new __WEBPACK_IMPORTED_MODULE_9_vuex__[\"a\" /* default */].Store({\n    state: {\n      state: State.Unauthenticated().freeze()\n    }\n  });\n};\n\nvar createAuthenticatedStore = function createAuthenticatedStore(db, spotify) {\n  return new __WEBPACK_IMPORTED_MODULE_9_vuex__[\"a\" /* default */].Store({\n    state: {\n      state: State.Authenticated().freeze()\n    },\n    mutations: {\n      syncing: function syncing(state) {\n        state.state = State.Syncing(0).freeze();\n      },\n      indexing: function indexing(state) {\n        state.state = State.Indexing(0).freeze();\n      },\n      ready: function ready(state, index) {\n        state.state = State.Ready(index).freeze();\n      },\n      progress: function progress(state, _progress) {\n        state.state = state.state.copy({ progress: _progress }).freeze();\n      }\n    },\n    actions: {\n      sync: function sync(_ref) {\n        var _this = this;\n\n        var commit = _ref.commit,\n            dispatch = _ref.dispatch;\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee() {\n          var index;\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  commit('syncing');\n                  _context.next = 3;\n                  return __WEBPACK_IMPORTED_MODULE_5__services_playlists__[\"a\" /* default */].syncPlaylists(db, spotify, function (progress) {\n                    commit('progress', progress);\n                  });\n\n                case 3:\n                  commit('indexing');\n                  _context.next = 6;\n                  return dispatch('loadPlaylists');\n\n                case 6:\n                  index = _context.sent;\n\n                  commit('ready', index);\n\n                case 8:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this);\n        }))();\n      },\n      loadPlaylists: function loadPlaylists(_ref2) {\n        var _this2 = this;\n\n        var commit = _ref2.commit,\n            dispatch = _ref2.dispatch;\n        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2() {\n          var playlists, tracks;\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return __WEBPACK_IMPORTED_MODULE_4__repositories_playlist__[\"a\" /* default */].findAll(db);\n\n                case 2:\n                  playlists = _context2.sent;\n                  _context2.next = 5;\n                  return dispatch('transformPlaylists', playlists);\n\n                case 5:\n                  tracks = _context2.sent;\n                  return _context2.abrupt('return', __WEBPACK_IMPORTED_MODULE_7__services_search__[\"a\" /* default */].createIndex(tracks));\n\n                case 7:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, _this2);\n        }))();\n      },\n\n      /**\n       * Transforms\n       *\n       * From (document)                 To (table)\n       *\n       * [{                              [{\n       *   id                              playlist {\n       *   name                              name\n       *   snapshot_id                     }\n       *   owner {                         track {\n       *     id                              album {\n       *   }                                   name\n       *   tracks [{                         }\n       *     added_at                        artists [{\n       *     track {                           name\n       *       album {                       }]\n       *         name                        duration_ms\n       *       }                             name\n       *       artists [{                  }\n       *         name                      added_at\n       *       }]                        }]\n       *       duration_ms\n       *       name\n       *     }\n       *   }]\n       * }]\n       */\n      transformPlaylists: function transformPlaylists(context, playlists) {\n        var addPlaylist = function addPlaylist(playlist) {\n          return __WEBPACK_IMPORTED_MODULE_6_ramda__[\"a\" /* assoc */]('playlist', { name: playlist.name });\n        };\n\n        var removeItemsWithEmptyTrack = __WEBPACK_IMPORTED_MODULE_6_ramda__[\"c\" /* filter */](function (item) {\n          return item.track !== null;\n        });\n\n        return __WEBPACK_IMPORTED_MODULE_6_ramda__[\"b\" /* chain */](function (playlist) {\n          return __WEBPACK_IMPORTED_MODULE_6_ramda__[\"g\" /* map */](addPlaylist(playlist), removeItemsWithEmptyTrack(playlist.items));\n        }, playlists);\n      }\n    }\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = ({\n  createAuthenticatedStore: createAuthenticatedStore,\n  createUnauthenticatedStore: createUnauthenticatedStore\n});\n\n/***/ }),\n\n/***/ \"qiKV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"view\",\"mode\":\"out-in\"}},[_c(_vm.currentView,{tag:\"component\"})],1),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer\"}},[_vm._v(\"\\n    Logo from \"),_c('a',{attrs:{\"href\":\"https://icons8.com/\"}},[_vm._v(\"Icons8\")]),_vm._v(\".\\n  \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"rNkk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_trie__ = __webpack_require__(\"8heu\");\n\n\nvar paths = [['playlist', 'name'], ['track', 'name'], ['track', 'artists', 'name'], ['track', 'album', 'name']];\n\n/**\n * Assumes data in denormalized (Vue model) form\n * @param entries\n */\nvar createIndex = function createIndex(entries) {\n  return __WEBPACK_IMPORTED_MODULE_0__utils_trie__[\"a\" /* default */].create(paths, entries);\n};\n\nvar find = function find(index, query) {\n  return __WEBPACK_IMPORTED_MODULE_0__utils_trie__[\"a\" /* default */].find(index, query);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  createIndex: createIndex,\n  find: find\n});\n\n/***/ }),\n\n/***/ \"uslO\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar map = {\n\t\"./af\": \"3CJN\",\n\t\"./af.js\": \"3CJN\",\n\t\"./ar\": \"3MVc\",\n\t\"./ar-dz\": \"tkWw\",\n\t\"./ar-dz.js\": \"tkWw\",\n\t\"./ar-kw\": \"j8cJ\",\n\t\"./ar-kw.js\": \"j8cJ\",\n\t\"./ar-ly\": \"wPpW\",\n\t\"./ar-ly.js\": \"wPpW\",\n\t\"./ar-ma\": \"dURR\",\n\t\"./ar-ma.js\": \"dURR\",\n\t\"./ar-sa\": \"7OnE\",\n\t\"./ar-sa.js\": \"7OnE\",\n\t\"./ar-tn\": \"BEem\",\n\t\"./ar-tn.js\": \"BEem\",\n\t\"./ar.js\": \"3MVc\",\n\t\"./az\": \"eHwN\",\n\t\"./az.js\": \"eHwN\",\n\t\"./be\": \"3hfc\",\n\t\"./be.js\": \"3hfc\",\n\t\"./bg\": \"lOED\",\n\t\"./bg.js\": \"lOED\",\n\t\"./bm\": \"hng5\",\n\t\"./bm.js\": \"hng5\",\n\t\"./bn\": \"aM0x\",\n\t\"./bn.js\": \"aM0x\",\n\t\"./bo\": \"w2Hs\",\n\t\"./bo.js\": \"w2Hs\",\n\t\"./br\": \"OSsP\",\n\t\"./br.js\": \"OSsP\",\n\t\"./bs\": \"aqvp\",\n\t\"./bs.js\": \"aqvp\",\n\t\"./ca\": \"wIgY\",\n\t\"./ca.js\": \"wIgY\",\n\t\"./cs\": \"ssxj\",\n\t\"./cs.js\": \"ssxj\",\n\t\"./cv\": \"N3vo\",\n\t\"./cv.js\": \"N3vo\",\n\t\"./cy\": \"ZFGz\",\n\t\"./cy.js\": \"ZFGz\",\n\t\"./da\": \"YBA/\",\n\t\"./da.js\": \"YBA/\",\n\t\"./de\": \"DOkx\",\n\t\"./de-at\": \"8v14\",\n\t\"./de-at.js\": \"8v14\",\n\t\"./de-ch\": \"Frex\",\n\t\"./de-ch.js\": \"Frex\",\n\t\"./de.js\": \"DOkx\",\n\t\"./dv\": \"rIuo\",\n\t\"./dv.js\": \"rIuo\",\n\t\"./el\": \"CFqe\",\n\t\"./el.js\": \"CFqe\",\n\t\"./en-au\": \"Sjoy\",\n\t\"./en-au.js\": \"Sjoy\",\n\t\"./en-ca\": \"Tqun\",\n\t\"./en-ca.js\": \"Tqun\",\n\t\"./en-gb\": \"hPuz\",\n\t\"./en-gb.js\": \"hPuz\",\n\t\"./en-ie\": \"ALEw\",\n\t\"./en-ie.js\": \"ALEw\",\n\t\"./en-nz\": \"dyB6\",\n\t\"./en-nz.js\": \"dyB6\",\n\t\"./eo\": \"Nd3h\",\n\t\"./eo.js\": \"Nd3h\",\n\t\"./es\": \"LT9G\",\n\t\"./es-do\": \"7MHZ\",\n\t\"./es-do.js\": \"7MHZ\",\n\t\"./es-us\": \"INcR\",\n\t\"./es-us.js\": \"INcR\",\n\t\"./es.js\": \"LT9G\",\n\t\"./et\": \"XlWM\",\n\t\"./et.js\": \"XlWM\",\n\t\"./eu\": \"sqLM\",\n\t\"./eu.js\": \"sqLM\",\n\t\"./fa\": \"2pmY\",\n\t\"./fa.js\": \"2pmY\",\n\t\"./fi\": \"nS2h\",\n\t\"./fi.js\": \"nS2h\",\n\t\"./fo\": \"OVPi\",\n\t\"./fo.js\": \"OVPi\",\n\t\"./fr\": \"tzHd\",\n\t\"./fr-ca\": \"bXQP\",\n\t\"./fr-ca.js\": \"bXQP\",\n\t\"./fr-ch\": \"VK9h\",\n\t\"./fr-ch.js\": \"VK9h\",\n\t\"./fr.js\": \"tzHd\",\n\t\"./fy\": \"g7KF\",\n\t\"./fy.js\": \"g7KF\",\n\t\"./gd\": \"nLOz\",\n\t\"./gd.js\": \"nLOz\",\n\t\"./gl\": \"FuaP\",\n\t\"./gl.js\": \"FuaP\",\n\t\"./gom-latn\": \"+27R\",\n\t\"./gom-latn.js\": \"+27R\",\n\t\"./gu\": \"rtsW\",\n\t\"./gu.js\": \"rtsW\",\n\t\"./he\": \"Nzt2\",\n\t\"./he.js\": \"Nzt2\",\n\t\"./hi\": \"ETHv\",\n\t\"./hi.js\": \"ETHv\",\n\t\"./hr\": \"V4qH\",\n\t\"./hr.js\": \"V4qH\",\n\t\"./hu\": \"xne+\",\n\t\"./hu.js\": \"xne+\",\n\t\"./hy-am\": \"GrS7\",\n\t\"./hy-am.js\": \"GrS7\",\n\t\"./id\": \"yRTJ\",\n\t\"./id.js\": \"yRTJ\",\n\t\"./is\": \"upln\",\n\t\"./is.js\": \"upln\",\n\t\"./it\": \"FKXc\",\n\t\"./it.js\": \"FKXc\",\n\t\"./ja\": \"ORgI\",\n\t\"./ja.js\": \"ORgI\",\n\t\"./jv\": \"JwiF\",\n\t\"./jv.js\": \"JwiF\",\n\t\"./ka\": \"RnJI\",\n\t\"./ka.js\": \"RnJI\",\n\t\"./kk\": \"j+vx\",\n\t\"./kk.js\": \"j+vx\",\n\t\"./km\": \"5j66\",\n\t\"./km.js\": \"5j66\",\n\t\"./kn\": \"gEQe\",\n\t\"./kn.js\": \"gEQe\",\n\t\"./ko\": \"eBB/\",\n\t\"./ko.js\": \"eBB/\",\n\t\"./ky\": \"6cf8\",\n\t\"./ky.js\": \"6cf8\",\n\t\"./lb\": \"z3hR\",\n\t\"./lb.js\": \"z3hR\",\n\t\"./lo\": \"nE8X\",\n\t\"./lo.js\": \"nE8X\",\n\t\"./lt\": \"/6P1\",\n\t\"./lt.js\": \"/6P1\",\n\t\"./lv\": \"jxEH\",\n\t\"./lv.js\": \"jxEH\",\n\t\"./me\": \"svD2\",\n\t\"./me.js\": \"svD2\",\n\t\"./mi\": \"gEU3\",\n\t\"./mi.js\": \"gEU3\",\n\t\"./mk\": \"Ab7C\",\n\t\"./mk.js\": \"Ab7C\",\n\t\"./ml\": \"oo1B\",\n\t\"./ml.js\": \"oo1B\",\n\t\"./mr\": \"5vPg\",\n\t\"./mr.js\": \"5vPg\",\n\t\"./ms\": \"ooba\",\n\t\"./ms-my\": \"G++c\",\n\t\"./ms-my.js\": \"G++c\",\n\t\"./ms.js\": \"ooba\",\n\t\"./my\": \"F+2e\",\n\t\"./my.js\": \"F+2e\",\n\t\"./nb\": \"FlzV\",\n\t\"./nb.js\": \"FlzV\",\n\t\"./ne\": \"/mhn\",\n\t\"./ne.js\": \"/mhn\",\n\t\"./nl\": \"3K28\",\n\t\"./nl-be\": \"Bp2f\",\n\t\"./nl-be.js\": \"Bp2f\",\n\t\"./nl.js\": \"3K28\",\n\t\"./nn\": \"C7av\",\n\t\"./nn.js\": \"C7av\",\n\t\"./pa-in\": \"pfs9\",\n\t\"./pa-in.js\": \"pfs9\",\n\t\"./pl\": \"7LV+\",\n\t\"./pl.js\": \"7LV+\",\n\t\"./pt\": \"ZoSI\",\n\t\"./pt-br\": \"AoDM\",\n\t\"./pt-br.js\": \"AoDM\",\n\t\"./pt.js\": \"ZoSI\",\n\t\"./ro\": \"wT5f\",\n\t\"./ro.js\": \"wT5f\",\n\t\"./ru\": \"ulq9\",\n\t\"./ru.js\": \"ulq9\",\n\t\"./sd\": \"fW1y\",\n\t\"./sd.js\": \"fW1y\",\n\t\"./se\": \"5Omq\",\n\t\"./se.js\": \"5Omq\",\n\t\"./si\": \"Lgqo\",\n\t\"./si.js\": \"Lgqo\",\n\t\"./sk\": \"OUMt\",\n\t\"./sk.js\": \"OUMt\",\n\t\"./sl\": \"2s1U\",\n\t\"./sl.js\": \"2s1U\",\n\t\"./sq\": \"V0td\",\n\t\"./sq.js\": \"V0td\",\n\t\"./sr\": \"f4W3\",\n\t\"./sr-cyrl\": \"c1x4\",\n\t\"./sr-cyrl.js\": \"c1x4\",\n\t\"./sr.js\": \"f4W3\",\n\t\"./ss\": \"7Q8x\",\n\t\"./ss.js\": \"7Q8x\",\n\t\"./sv\": \"Fpqq\",\n\t\"./sv.js\": \"Fpqq\",\n\t\"./sw\": \"DSXN\",\n\t\"./sw.js\": \"DSXN\",\n\t\"./ta\": \"+7/x\",\n\t\"./ta.js\": \"+7/x\",\n\t\"./te\": \"Nlnz\",\n\t\"./te.js\": \"Nlnz\",\n\t\"./tet\": \"gUgh\",\n\t\"./tet.js\": \"gUgh\",\n\t\"./th\": \"XzD+\",\n\t\"./th.js\": \"XzD+\",\n\t\"./tl-ph\": \"3LKG\",\n\t\"./tl-ph.js\": \"3LKG\",\n\t\"./tlh\": \"m7yE\",\n\t\"./tlh.js\": \"m7yE\",\n\t\"./tr\": \"k+5o\",\n\t\"./tr.js\": \"k+5o\",\n\t\"./tzl\": \"iNtv\",\n\t\"./tzl.js\": \"iNtv\",\n\t\"./tzm\": \"FRPF\",\n\t\"./tzm-latn\": \"krPU\",\n\t\"./tzm-latn.js\": \"krPU\",\n\t\"./tzm.js\": \"FRPF\",\n\t\"./uk\": \"ntHu\",\n\t\"./uk.js\": \"ntHu\",\n\t\"./ur\": \"uSe8\",\n\t\"./ur.js\": \"uSe8\",\n\t\"./uz\": \"XU1s\",\n\t\"./uz-latn\": \"/bsm\",\n\t\"./uz-latn.js\": \"/bsm\",\n\t\"./uz.js\": \"XU1s\",\n\t\"./vi\": \"0X8Q\",\n\t\"./vi.js\": \"0X8Q\",\n\t\"./x-pseudo\": \"e/KL\",\n\t\"./x-pseudo.js\": \"e/KL\",\n\t\"./yo\": \"YXlc\",\n\t\"./yo.js\": \"YXlc\",\n\t\"./zh-cn\": \"Vz2w\",\n\t\"./zh-cn.js\": \"Vz2w\",\n\t\"./zh-hk\": \"ZUyn\",\n\t\"./zh-hk.js\": \"ZUyn\",\n\t\"./zh-tw\": \"BbgG\",\n\t\"./zh-tw.js\": \"BbgG\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"uslO\";\n\n/***/ }),\n\n/***/ \"wSyU\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_LandingPage_vue__ = __webpack_require__(\"GZQa\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1342f507_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LandingPage_vue__ = __webpack_require__(\"YeaO\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"/k4W\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1342f507\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_LandingPage_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1342f507_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_LandingPage_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"wxI/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spotify\"}},[_c('div',{attrs:{\"id\":\"search\"}},[_c('div',{staticClass:\"spacing\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],attrs:{\"id\":\"search-input\",\"placeholder\":\"Search for a song, artist, album or playlist\",\"type\":\"text\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"results\"}},[_c('table',[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.search.results),function(result){return _c('tr',[_c('td',[_vm._v(_vm._s(result.track.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"mkArtistString\")(result.track.artists)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(result.track.album.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(result.playlist.name))]),_vm._v(\" \"),_c('td',{attrs:{\"title\":_vm._f(\"inCalendarTime\")(result.added_at)}},[_vm._v(_vm._s(_vm._f(\"inRelativeTime\")(result.added_at)))])])}))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Song\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Artist\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Album\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Playlist\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Added\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_LandingPage_vue__ = __webpack_require__(\"wSyU\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_Spotify_vue__ = __webpack_require__(\"LmLQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store__ = __webpack_require__(\"olkN\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n// TODO: Compatibility check\n// window.indexedDB\n// Chrome 57+ and Opera 17+; IE10+, FF 16+\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  components: {\n    Spotify: __WEBPACK_IMPORTED_MODULE_1__components_Spotify_vue__[\"a\" /* default */],\n    LandingPage: __WEBPACK_IMPORTED_MODULE_0__components_LandingPage_vue__[\"a\" /* default */]\n  },\n  computed: {\n    currentView: function currentView() {\n      return __WEBPACK_IMPORTED_MODULE_2__store__[\"a\" /* State */].Ready.hasInstance(this.$store.state.state) ? __WEBPACK_IMPORTED_MODULE_1__components_Spotify_vue__[\"a\" /* default */] : __WEBPACK_IMPORTED_MODULE_0__components_LandingPage_vue__[\"a\" /* default */];\n    }\n  }\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.0dcaab8c7852db971139.js","import * as R from 'ramda'\r\n\r\nfunction Node () {\r\n  this.values = []\r\n  this.children = {}\r\n}\r\n\r\nconst create = (paths, entries) => {\r\n  const trie = new Node()\r\n\r\n  entries.forEach(entry => {\r\n    paths.forEach(path => {\r\n      const values = getValues(entry, 0, path)\r\n      R.chain(splitAndCleanup, values).forEach(value => {\r\n        insert(value, entry, 0, trie)\r\n      })\r\n    })\r\n  })\r\n\r\n  return trie\r\n}\r\n\r\n/**\r\n * Finds a value in an object structure by following the given path.\r\n * If any step of the path is an array all values will be collected.\r\n *\r\n * @param {*} obj Object to walk\r\n * @param {*} i Current step in the walk\r\n * @param {*} path Path to follow\r\n * @returns {Array<String>} List of found values\r\n */\r\nconst getValues = (obj, i, path) => {\r\n  let value = obj\r\n\r\n  while (i < path.length) {\r\n    value = value[path[i]]\r\n    i++\r\n\r\n    if (value instanceof Array) {\r\n      return R.chain(val => getValues(val, i, path), value)\r\n    }\r\n  }\r\n\r\n  return [value]\r\n}\r\n\r\nconst insert = (word, value, i, root) => {\r\n  if (word.length === 0) {\r\n    return\r\n  }\r\n\r\n  const node = getLocation(word[i], root)\r\n\r\n  if (word.length - 1 === i) {\r\n    node.values.push(value)\r\n  } else {\r\n    insert(word, value, i + 1, node)\r\n  }\r\n}\r\n\r\nconst getLocation = (letter, node) => {\r\n  let child = node.children[letter]\r\n\r\n  if (!child) {\r\n    child = new Node()\r\n    node.children[letter] = child\r\n  }\r\n\r\n  return child\r\n}\r\n\r\nconst find = (root, phrase) => {\r\n  const results = R.map(doFind(root), splitAndCleanup(phrase))\r\n\r\n  const mergedResults = R.reduce(intersection, new Set(R.head(results)), R.tail(results))\r\n\r\n  return toArray(mergedResults)\r\n}\r\n\r\nconst doFind = root => prefix => {\r\n  // Find start node\r\n  let node = root\r\n  let i = 0\r\n  while (node && i < prefix.length) {\r\n    node = node.children[prefix[i]]\r\n    i++\r\n  }\r\n\r\n  // For performance\r\n  const results = []\r\n  const collect = ({ values, children }) => {\r\n    values.forEach(value => results.push(value))\r\n\r\n    for (let key in children) {\r\n      collect(children[key])\r\n    }\r\n  }\r\n\r\n  if (node) {\r\n    collect(node)\r\n  }\r\n\r\n  return results\r\n}\r\n\r\nconst intersection = (set, list) => {\r\n  const result = new Set()\r\n\r\n  // Can't optimize by swapping list and set if list > set since converting the list to Set is O(n)\r\n\r\n  for (let item of list) {\r\n    if (set.has(item)) {\r\n      result.add(item)\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nconst splitAndCleanup = R.pipe(R.trim, R.toLower, R.split(/\\s+/))\r\n\r\nconst toArray = set => {\r\n  const array = []\r\n\r\n  set.forEach(value => array.push(value))\r\n\r\n  return array\r\n}\r\n\r\nexport default {\r\n  create,\r\n  find\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/trie.js","import Lockr from 'lockr'\nimport Maybe from 'folktale/maybe'\nimport * as R from 'ramda'\nimport Url from 'url'\n\nconst SESSION_KEY = 'session'\n\nconst decode = (value) => Maybe.fromNullable(value).map(decodeURIComponent).getOrElse(null)\n\nconst parseHash = (hash) => R.fromPairs(\n  hash\n  .substring(1)\n  .split('&')\n  .map((param) => param.split('=').map(decode))\n)\n\nconst getSessionFromHash = (hash) => {\n  const parsedHash = parseHash(hash)\n  const accessToken = Maybe.fromNullable(parsedHash.access_token)\n  const expiresAt = Maybe.fromNullable(parsedHash.expires_in)\n    .map((sessionLength) => Date.now() + sessionLength * 1000)\n  const toSession = (accessToken) => (expiresAt) => ({ accessToken, expiresAt })\n\n  return Maybe.Just(toSession).ap(accessToken).ap(expiresAt)\n}\n\nconst getSessionFromLocalStorage = () => Maybe.fromNullable(Lockr.get(SESSION_KEY))\n\nconst authenticateUrl = Url.format({\n  protocol: 'https',\n  host: 'accounts.spotify.com',\n  pathname: '/authorize',\n  query: {\n    client_id: '8ff22b4d074b418b9a20d935f59e0373',\n    response_type: 'token',\n    redirect_uri: process.env.SPOTIFY_REDIRECT_URL,\n    // TODO state:\n    scope: 'playlist-read-private playlist-read-collaborative user-library-read'\n  }\n})\n\nconst getSession = (hash) =>\n  getSessionFromHash(hash)\n    .orElse(getSessionFromLocalStorage)\n    .filter(isValid)\n\nconst saveSession = (session) => {\n  Lockr.set(SESSION_KEY, session)\n}\n\nconst isValid = (session) => session.expiresAt > Date.now()\n\nexport default {\n  authenticateUrl,\n  getSession,\n  saveSession\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/auth.js","<template>\n  <div class=\"hello\">\n    <svg class=\"logo\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\" enable-background=\"new 0 0 26 26\">\n      <path style=\"text-indent:0;text-align:start;line-height:normal;text-transform:none;block-progression:tb;-inkscape-font-specification:Bitstream Vera Sans\" d=\"M 24.90625 0 L 6.40625 9.90625 C 7.10625 10.20625 7.7125 10.6875 8.3125 11.1875 L 24.90625 0 z M 26 1 L 10.8125 14.5 C 11.2125 15.4 11.5 16.2875 11.5 17.1875 L 26 1 z M 4.6875 11 C 4.259375 10.978125 3.85 11.0875 3.5 11.3125 C 2.9 11.7125 1.3125 12.6875 0.8125 13.1875 C 0.10185489 13.819232 -0.050850725 14.834951 0.0625 15.75 C 0.18705289 16.75548 0.59446728 17.811096 1.28125 18.84375 C 1.9680327 19.876403 2.8083844 20.683854 3.6875 21.1875 C 4.5666156 21.691146 5.6522602 21.949119 6.5625 21.34375 C 6.67628 21.268079 6.7836897 21.183309 6.875 21.09375 C 7.2613973 20.861356 7.6245781 20.672784 8.0625 20.375 C 8.0112336 21.556565 7.7890902 22.565385 7.40625 23.1875 C 7.00625 23.7875 6.6875 24 6.1875 24 C 5.9875 24 5.49375 23.7875 5.09375 22.6875 C 4.49375 22.6875 3.7875 22.39375 3.1875 22.09375 C 3.39 22.8025 3.6600324 23.447444 3.96875 24 C 3.897899 24.035757 2 25.018382 2 26 L 11 26 C 11 25.018382 9.102101 24.035757 9.03125 24 C 9.5999184 22.672839 9.7497174 20.853053 9.625 19.03125 C 10.314436 17.841066 9.9918702 15.781282 8.6875 13.90625 C 7.4875 12.18125 5.971875 11.065625 4.6875 11 z M 2.125 14.65625 C 2.13487 14.64965 2.3803576 14.604964 2.90625 14.90625 C 3.4321424 15.207534 4.0879197 15.817441 4.625 16.625 C 5.1620803 17.43256 5.4567416 18.304765 5.53125 18.90625 C 5.605758 19.507734 5.478616 19.649689 5.46875 19.65625 C 5.45888 19.66285 5.2133925 19.770035 4.6875 19.46875 C 4.1616071 19.167466 3.5058303 18.52631 2.96875 17.71875 C 2.4316697 16.911191 2.1057584 16.101484 2.03125 15.5 C 1.956742 14.898516 2.115134 14.662812 2.125 14.65625 z\" overflow=\"visible\" enable-background=\"accumulate\" font-family=\"Bitstream Vera Sans\"/>\n    </svg>\n\n    <h1>Searchlight for Spotify</h1>\n    <h2>Find your lost songs</h2>\n    <p>Searchlight for Spotify shows you not only what songs you've saved but also <i>where</i> you saved them.</p>\n    <transition name=\"status\" mode=\"out-in\">\n      <p v-if=\"State.Unauthenticated.hasInstance(state)\" key=\"unauthenticated\">Authenticate with Spotify to <a :href=\"authenticateUrl\">begin.</a></p>\n      <p v-if=\"State.Syncing.hasInstance(state)\" key=\"syncing\">Loading your playlists {{ state.progress | inPercent }}</p>\n      <p v-if=\"State.Indexing.hasInstance(state)\" key=\"indexing\">Indexing</p>\n      <p v-if=\"State.Ready.hasInstance(state)\" key=\"ready\">Your tracks are waiting to be found!</p>\n    </transition>\n  </div>\n</template>\n\n<script>\n  import auth from '../lib/auth'\n  import { mapState } from 'vuex'\n  import { State } from '@/store'\n\n  export default {\n    name: 'LandingPage',\n    data () {\n      return {\n        authenticateUrl: auth.authenticateUrl\n      }\n    },\n    created () {\n      this.State = State\n    },\n    computed: {\n      ...mapState([\n        'state'\n      ])\n    },\n    filters: {\n      inPercent: function (progress) {\n        return `${Math.round(progress * 100)}%`\n      }\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n.logo {\n  margin-top: 60px;\n  width: 200px;\n  height: 200px;\n  fill: currentColor;\n}\n\n.status-enter-active, .status-leave-active {\n  transition: opacity .5s\n}\n.status-enter, .status-leave-to {\n  opacity: 0\n}\n\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// LandingPage.vue?7e1f6f98","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-770250fb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Spotify.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Spotify.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-770250fb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Spotify.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-770250fb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Spotify.vue\n// module id = LmLQ\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7dd44217\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7dd44217\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport VueMoment from 'vue-moment'\nimport App from './App'\nimport Auth from '@/lib/auth'\nimport Database from '@/lib/database'\nimport Spotify from '@/lib/spotify'\nimport Store, { State } from '@/store'\n\nVue.config.productionTip = false\n\nVue.use(Vuex)\nVue.use(VueMoment)\n\nconst hash = window.location.hash\n\n// Remove hash in location bar, if any\nhistory.replaceState(null, '', window.location.pathname)\n\nconst createApp = (store) => {\n  /* eslint-disable no-new */\n  new Vue({\n    el: '#app',\n    store,\n    template: '<App/>',\n    components: { App },\n    mounted: function () {\n      this.$nextTick(function () {\n        if (State.Authenticated.hasInstance(this.$store.state.state)) {\n          return this.$store.dispatch('sync')\n        }\n      })\n    }\n  })\n}\n\nconst onUnauthenticated = async () => {\n  const store = Store.createUnauthenticatedStore()\n\n  createApp(store)\n}\n\nconst onAuthenticated = async (session) => {\n  Auth.saveSession(session)\n  const db = Database.createDb()\n  const spotify = await Spotify.createClient(session.accessToken)\n  const store = Store.createAuthenticatedStore(db, spotify)\n\n  createApp(store)\n}\n\nAuth.getSession(hash).fold(onUnauthenticated, onAuthenticated)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","/*\nPlaylist {\n  id\n  name\n  snapshot_id\n  owner {\n    id\n  }\n  tracks [{\n    added_at\n    track {\n      album {\n        name\n      }\n      artists [{\n        name\n      }]\n      duration_ms\n      name\n    }\n  }]\n}\n*/\n\nexport default {\n  add: (db, playlists) => {\n    return db.playlists.bulkPut(playlists)\n  },\n  findAll: (db) => {\n    return db.playlists.toArray()\n  },\n  delete: (db, keys) => {\n    return db.playlists.bulkDelete(keys)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/repositories/playlist.js","import * as Union from 'folktale/adt/union/union'\n\nconst Unfold = Union('Unfold', {\n  Continue (value, next) {\n    return { value, next }\n  },\n  Done (value) {\n    return { value }\n  },\n  Fail (error) {\n    return { error }\n  },\n  Retry (delayMs) {\n    return { delayMs }\n  }\n})\n\nconst delay = (fn, delay) => new Promise((resolve, reject) => {\n  setTimeout(() => fn().then(resolve, reject), delay)\n})\n\nconst unfoldAsync = (onSuccess, onError) => fn => seed => {\n  const doUnfold = (value, acc) => {\n    return fn(value)\n      .then(onSuccess, onError)\n      .then(unfold => unfold.matchWith({\n        Continue: ({ value, next }) => doUnfold(next, acc.concat(value)),\n        Done: ({ value }) => acc.concat(value),\n        Fail: ({ error }) => Promise.reject(error),\n        Retry: ({ delayMs }) => delay(() => doUnfold(value, acc), delayMs)\n      }))\n  }\n\n  return doUnfold(seed, [])\n}\n\nexport {\n  unfoldAsync,\n  Unfold\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/unfold.js","const freeze = (variant, adt) => {\r\n  variant.prototype.freeze = function () {\r\n    return Object.freeze(this)\r\n  }\r\n}\r\n\r\nexport default freeze\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/adt/freeze.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('svg',{staticClass:\"logo\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 26 26\",\"enable-background\":\"new 0 0 26 26\"}},[_c('path',{staticStyle:{\"text-indent\":\"0\",\"text-align\":\"start\",\"line-height\":\"normal\",\"text-transform\":\"none\",\"block-progression\":\"tb\",\"-inkscape-font-specification\":\"Bitstream Vera Sans\"},attrs:{\"d\":\"M 24.90625 0 L 6.40625 9.90625 C 7.10625 10.20625 7.7125 10.6875 8.3125 11.1875 L 24.90625 0 z M 26 1 L 10.8125 14.5 C 11.2125 15.4 11.5 16.2875 11.5 17.1875 L 26 1 z M 4.6875 11 C 4.259375 10.978125 3.85 11.0875 3.5 11.3125 C 2.9 11.7125 1.3125 12.6875 0.8125 13.1875 C 0.10185489 13.819232 -0.050850725 14.834951 0.0625 15.75 C 0.18705289 16.75548 0.59446728 17.811096 1.28125 18.84375 C 1.9680327 19.876403 2.8083844 20.683854 3.6875 21.1875 C 4.5666156 21.691146 5.6522602 21.949119 6.5625 21.34375 C 6.67628 21.268079 6.7836897 21.183309 6.875 21.09375 C 7.2613973 20.861356 7.6245781 20.672784 8.0625 20.375 C 8.0112336 21.556565 7.7890902 22.565385 7.40625 23.1875 C 7.00625 23.7875 6.6875 24 6.1875 24 C 5.9875 24 5.49375 23.7875 5.09375 22.6875 C 4.49375 22.6875 3.7875 22.39375 3.1875 22.09375 C 3.39 22.8025 3.6600324 23.447444 3.96875 24 C 3.897899 24.035757 2 25.018382 2 26 L 11 26 C 11 25.018382 9.102101 24.035757 9.03125 24 C 9.5999184 22.672839 9.7497174 20.853053 9.625 19.03125 C 10.314436 17.841066 9.9918702 15.781282 8.6875 13.90625 C 7.4875 12.18125 5.971875 11.065625 4.6875 11 z M 2.125 14.65625 C 2.13487 14.64965 2.3803576 14.604964 2.90625 14.90625 C 3.4321424 15.207534 4.0879197 15.817441 4.625 16.625 C 5.1620803 17.43256 5.4567416 18.304765 5.53125 18.90625 C 5.605758 19.507734 5.478616 19.649689 5.46875 19.65625 C 5.45888 19.66285 5.2133925 19.770035 4.6875 19.46875 C 4.1616071 19.167466 3.5058303 18.52631 2.96875 17.71875 C 2.4316697 16.911191 2.1057584 16.101484 2.03125 15.5 C 1.956742 14.898516 2.115134 14.662812 2.125 14.65625 z\",\"overflow\":\"visible\",\"enable-background\":\"accumulate\",\"font-family\":\"Bitstream Vera Sans\"}})]),_vm._v(\" \"),_c('h1',[_vm._v(\"Searchlight for Spotify\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"Find your lost songs\")]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"status\",\"mode\":\"out-in\"}},[(_vm.State.Unauthenticated.hasInstance(_vm.state))?_c('p',{key:\"unauthenticated\"},[_vm._v(\"Authenticate with Spotify to \"),_c('a',{attrs:{\"href\":_vm.authenticateUrl}},[_vm._v(\"begin.\")])]):_vm._e(),_vm._v(\" \"),(_vm.State.Syncing.hasInstance(_vm.state))?_c('p',{key:\"syncing\"},[_vm._v(\"Loading your playlists \"+_vm._s(_vm._f(\"inPercent\")(_vm.state.progress)))]):_vm._e(),_vm._v(\" \"),(_vm.State.Indexing.hasInstance(_vm.state))?_c('p',{key:\"indexing\"},[_vm._v(\"Indexing\")]):_vm._e(),_vm._v(\" \"),(_vm.State.Ready.hasInstance(_vm.state))?_c('p',{key:\"ready\"},[_vm._v(\"Your tracks are waiting to be found!\")]):_vm._e()])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"Searchlight for Spotify shows you not only what songs you've saved but also \"),_c('i',[_vm._v(\"where\")]),_vm._v(\" you saved them.\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1342f507\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/LandingPage.vue\n// module id = YeaO\n// module chunks = 1","const copy = (variant, adt) => {\r\n  variant.prototype.copy = function (properties = {}) {\r\n    const existingProperties = Object.getOwnPropertyDescriptors(this)\r\n    const updatedProperties = Object.getOwnPropertyDescriptors(properties)\r\n\r\n    // Validate variant has updated properties\r\n    Object.keys(updatedProperties).forEach(property => {\r\n      if (!existingProperties[property]) {\r\n        throw new Error(`Can't update unknown property '${property}' on ${variant.tag}`)\r\n      }\r\n    })\r\n\r\n    return Object.create(\r\n      variant.prototype,\r\n      Object.assign(\r\n        existingProperties,\r\n        updatedProperties\r\n      )\r\n    )\r\n  }\r\n}\r\n\r\nexport default copy\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/adt/copy.js","import SpotifyWebApi from 'spotify-web-api-js'\nimport { unfoldAsync, Unfold } from '@/utils/unfold'\n\nconst onSuccess = response => response.next\n  ? Unfold.Continue(response.items, response.offset + response.limit)\n  : Unfold.Done(response.items)\n\nconst shouldRetry = (response) => response && response.status === 429\n\nconst onError = error => shouldRetry(error)\n  ? Unfold.Retry(3000)\n  : Unfold.Fail(error)\n\nconst unfoldFn = unfoldAsync(onSuccess, onError)\n\nconst getUserPlaylists = (client, userId) => unfoldFn(offset => {\n  return client.getUserPlaylists(\n    userId,\n    {\n      limit: 50,\n      offset: offset,\n      fields: 'items(id,name,snapshot_id,owner.id),limit,next,offset'\n    }\n  )\n})(0)\n\nconst getPlaylistTracks = (client, ownerId, playlistId) => unfoldFn(offset => {\n  return client.getPlaylistTracks(\n    ownerId,\n    playlistId,\n    {\n      limit: 100,\n      offset: offset,\n      fields: 'items(added_at,track(album.name,artists.name,duration_ms,name)),limit,next,offset'\n    }\n  )\n})(0)\n\nconst createClient = async (token) => {\n  const client = new SpotifyWebApi()\n  client.setAccessToken(token)\n\n  const { id: userId } = await client.getMe()\n\n  console.debug('Spotify client initialized')\n\n  return {\n    playlists () {\n      return getUserPlaylists(client, userId)\n    },\n    tracks (ownerId, playlistId) {\n      return getPlaylistTracks(client, ownerId, playlistId)\n    }\n  }\n}\n\nexport default {\n  createClient\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/spotify.js","import * as R from 'ramda'\nimport Playlist from '../repositories/playlist'\n\n/**\n * Adds new playlists to the database\n * Updates outdated ones\n * Deletes no longer existing ones\n *\n * @param db\n * @param spotify\n * @param progressCallback\n * @returns {Promise.<void>}\n */\nconst syncPlaylists = async (db, spotify, progressCallback) => {\n  console.log('Syncing')\n\n  const [currentPlaylists, dbPlaylists] = await Promise.all([\n    spotify.playlists(),\n    Playlist.findAll(db)\n  ])\n\n  const playlistsToAdd = getPlaylistsToAdd(currentPlaylists, dbPlaylists)\n  const playlistsToDelete = getPlaylistsToDelete(currentPlaylists, dbPlaylists)\n\n  console.log(`Adding/updating ${playlistsToAdd.length} playlists`)\n  console.log(`Deleting ${playlistsToDelete.length} playlists`)\n\n  for (let i = 0; i < playlistsToAdd.length; i++) {\n    const playlist = playlistsToAdd[i]\n    console.log(`Adding playlist ${playlist.name} ${playlist.id}`)\n    const tracks = await spotify.tracks(playlist.owner.id, playlist.id)\n    const playlistWithTracks = R.assoc('items', tracks, playlist)\n    await Playlist.add(db, [playlistWithTracks])\n    progressCallback((i + 1) / playlistsToAdd.length)\n  }\n\n  await Playlist.delete(db, R.map(R.prop('id'), playlistsToDelete))\n}\n\n/**\n * Finds any playlist that only exists in the new list or the snapshot ids don't match\n *\n * @param currentPlaylists\n * @param oldPlaylists\n */\nconst getPlaylistsToAdd = (currentPlaylists, oldPlaylists) => {\n  const oldPlaylistsById = R.indexBy(R.prop('id'), oldPlaylists)\n  const inOldPlaylist = (playlist) => oldPlaylistsById[playlist.id] !== undefined\n  const snapshotIdDiffers = (playlist) => oldPlaylistsById[playlist.id].snapshot_id !== playlist.snapshot_id\n\n  return R.filter(\n    (playlist) => !inOldPlaylist(playlist) || snapshotIdDiffers(playlist),\n    currentPlaylists\n  )\n}\n\n/**\n * Finds any playlist that only exists in the old list\n *\n * @param currentPlaylists\n * @param oldPlaylists\n */\nconst getPlaylistsToDelete = (currentPlaylists, oldPlaylists) => {\n  const currentPlaylistsById = R.indexBy(R.prop('id'), currentPlaylists)\n  const inCurrentPlaylist = (playlist) => currentPlaylistsById[playlist.id] !== undefined\n\n  return R.filter(\n    (playlist) => !inCurrentPlaylist(playlist),\n    oldPlaylists\n  )\n}\n\nexport default {\n  syncPlaylists,\n  getPlaylistsToAdd,\n  getPlaylistsToDelete\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/playlists.js","import Dexie from 'dexie'\n\nexport default {\n  createDb: () => {\n    const db = new Dexie('searchlight')\n\n    db.version(1).stores({\n      playlists: 'id'\n    })\n\n    return db\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/database.js","<template>\n  <div id=\"spotify\">\n    <div id=\"search\">\n      <div class=\"spacing\">\n        <input id=\"search-input\" placeholder=\"Search for a song, artist, album or playlist\" type=\"text\"  v-model=\"query\"/>\n      </div>\n    </div>\n    <div id=\"results\">\n      <table>\n        <thead>\n          <tr>\n            <th>Song</th>\n            <th>Artist</th>\n            <th>Album</th>\n            <th>Playlist</th>\n            <th>Added</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"result in search.results\">\n            <td>{{ result.track.name }}</td>\n            <td>{{ result.track.artists | mkArtistString }}</td>\n            <td>{{ result.track.album.name }}</td>\n            <td>{{ result.playlist.name }}</td>\n            <td :title=\"result.added_at | inCalendarTime\">{{ result.added_at | inRelativeTime }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n#spotify {\n  div {\n    display: block;\n  }\n\n  #search {\n    background-color: #282828;\n    padding: 1.5em 0;\n\n    .spacing {\n      padding: 0 2em;\n      margin: 0 auto;\n    }\n\n    input {\n      caret-color: #1db954;\n      box-sizing: border-box;\n      width: 100%;\n      background-color: transparent;\n      border: none;\n      color: #fff;\n      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n      font-weight: 100;\n      font-size: 3rem;\n      line-height: 1.6;\n    }\n\n    :focus {\n      outline: none;\n    }\n\n    ::placeholder {\n      color: #555555;\n      opacity: 1;\n    }\n  }\n\n  #results {\n    padding: 0 2em;\n  }\n\n  table {\n    table-layout: fixed;\n    width: 100%;\n  }\n\n  th {\n    font-size: .8rem;\n    font-weight: 700;\n    letter-spacing: .08em;\n    text-align: left;\n    text-transform: uppercase;\n  }\n\n  td {\n    font-size: 1.2em;\n    height: 40px;\n    line-height: 19px;\n    border-top: 1px solid #222326;\n    text-align: left;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n  }\n\n}\n\n</style>\n\n<script>\nimport debounce from 'debounce'\nimport moment from 'moment'\nimport Search from '@/services/search'\n\nexport default {\n  name: 'Spotify',\n  methods: {\n    runSearch: debounce(function () {\n      this.search.results = Object.freeze(\n        Search.find(this.$store.state.state.index, this.query)\n      )\n    }, 200)\n  },\n  watch: {\n    query: function () {\n      if (this.query.length > 1) {\n        this.runSearch()\n      } else {\n        this.search.results = []\n      }\n    }\n  },\n  filters: {\n    mkArtistString: function (artists) {\n      if (!artists) return\n      return artists.map(artist => artist.name).join(', ')\n    },\n    readableDuration: function (duration) {\n      duration = Math.floor(duration / 60) // In minutes\n      var minutes = duration % 60\n      duration = Math.floor(duration / 60) // In hours\n      var hours = duration % 24\n      var days = Math.floor(duration / 24)  // In days\n\n      if (days > 0) return `${days} days ${hours} hrs ${minutes} mins`\n      if (hours > 0) return `${hours} hrs ${minutes} mins`\n      if (minutes > 0) return `${minutes} mins`\n      return '0 mins'\n    },\n    inRelativeTime: function (instant) {\n      const date = moment(instant)\n      return date.isValid() ? date.fromNow() : ''\n    },\n    inCalendarTime: function (instant) {\n      const date = moment(instant)\n      return date.isValid() ? date.calendar() : ''\n    }\n  },\n  computed: {},\n  data () {\n    return {\n      query: '',\n      search: {\n        results: []\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Spotify.vue?9be0fd54","import Copy from '@/utils/adt/copy'\nimport Freeze from '@/utils/adt/freeze'\nimport Playlist from '@/repositories/playlist'\nimport Playlists from '@/services/playlists'\nimport * as R from 'ramda'\nimport Search from '@/services/search'\nimport * as Union from 'folktale/adt/union/union'\nimport Vuex from 'vuex'\n\nexport const State = Union('State', {\n  Authenticated () {},\n  Indexing () {},\n  Ready (index) {\n    return { index }\n  },\n  Syncing (progress) {\n    return { progress }\n  },\n  Unauthenticated () {}\n}).derive(Copy, Freeze)\n\nconst createUnauthenticatedStore = () => new Vuex.Store({\n  state: {\n    state: State.Unauthenticated().freeze()\n  }\n})\n\nconst createAuthenticatedStore = (db, spotify) => new Vuex.Store({\n  state: {\n    state: State.Authenticated().freeze()\n  },\n  mutations: {\n    syncing (state) {\n      state.state = State.Syncing(0).freeze()\n    },\n    indexing (state) {\n      state.state = State.Indexing(0).freeze()\n    },\n    ready (state, index) {\n      state.state = State.Ready(index).freeze()\n    },\n    progress (state, progress) {\n      state.state = state.state.copy({ progress }).freeze()\n    }\n  },\n  actions: {\n    async sync ({ commit, dispatch }) {\n      commit('syncing')\n      await Playlists.syncPlaylists(db, spotify, (progress) => { commit('progress', progress) })\n      commit('indexing')\n      const index = await dispatch('loadPlaylists')\n      commit('ready', index)\n    },\n    async loadPlaylists ({ commit, dispatch }) {\n      const playlists = await Playlist.findAll(db)\n      const tracks = await dispatch('transformPlaylists', playlists)\n      return Search.createIndex(tracks)\n    },\n    /**\n     * Transforms\n     *\n     * From (document)                 To (table)\n     *\n     * [{                              [{\n     *   id                              playlist {\n     *   name                              name\n     *   snapshot_id                     }\n     *   owner {                         track {\n     *     id                              album {\n     *   }                                   name\n     *   tracks [{                         }\n     *     added_at                        artists [{\n     *     track {                           name\n     *       album {                       }]\n     *         name                        duration_ms\n     *       }                             name\n     *       artists [{                  }\n     *         name                      added_at\n     *       }]                        }]\n     *       duration_ms\n     *       name\n     *     }\n     *   }]\n     * }]\n     */\n    transformPlaylists (context, playlists) {\n      const addPlaylist = playlist => R.assoc('playlist', { name: playlist.name })\n\n      const removeItemsWithEmptyTrack = R.filter(item => item.track !== null)\n\n      return R.chain(\n        playlist => R.map(addPlaylist(playlist), removeItemsWithEmptyTrack(playlist.items)),\n        playlists\n      )\n    }\n  }\n})\n\nexport default {\n  createAuthenticatedStore,\n  createUnauthenticatedStore\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"view\",\"mode\":\"out-in\"}},[_c(_vm.currentView,{tag:\"component\"})],1),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"footer\"}},[_vm._v(\"\\n    Logo from \"),_c('a',{attrs:{\"href\":\"https://icons8.com/\"}},[_vm._v(\"Icons8\")]),_vm._v(\".\\n  \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7dd44217\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = qiKV\n// module chunks = 1","import Trie from '@/utils/trie'\n\nconst paths = [\n  ['playlist', 'name'],\n  ['track', 'name'],\n  ['track', 'artists', 'name'],\n  ['track', 'album', 'name']\n]\n\n/**\n * Assumes data in denormalized (Vue model) form\n * @param entries\n */\nconst createIndex = (entries) => {\n  return Trie.create(paths, entries)\n}\n\nconst find = (index, query) => {\n  return Trie.find(index, query)\n}\n\nexport default {\n  createIndex,\n  find\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/search.js","var map = {\n\t\"./af\": \"3CJN\",\n\t\"./af.js\": \"3CJN\",\n\t\"./ar\": \"3MVc\",\n\t\"./ar-dz\": \"tkWw\",\n\t\"./ar-dz.js\": \"tkWw\",\n\t\"./ar-kw\": \"j8cJ\",\n\t\"./ar-kw.js\": \"j8cJ\",\n\t\"./ar-ly\": \"wPpW\",\n\t\"./ar-ly.js\": \"wPpW\",\n\t\"./ar-ma\": \"dURR\",\n\t\"./ar-ma.js\": \"dURR\",\n\t\"./ar-sa\": \"7OnE\",\n\t\"./ar-sa.js\": \"7OnE\",\n\t\"./ar-tn\": \"BEem\",\n\t\"./ar-tn.js\": \"BEem\",\n\t\"./ar.js\": \"3MVc\",\n\t\"./az\": \"eHwN\",\n\t\"./az.js\": \"eHwN\",\n\t\"./be\": \"3hfc\",\n\t\"./be.js\": \"3hfc\",\n\t\"./bg\": \"lOED\",\n\t\"./bg.js\": \"lOED\",\n\t\"./bm\": \"hng5\",\n\t\"./bm.js\": \"hng5\",\n\t\"./bn\": \"aM0x\",\n\t\"./bn.js\": \"aM0x\",\n\t\"./bo\": \"w2Hs\",\n\t\"./bo.js\": \"w2Hs\",\n\t\"./br\": \"OSsP\",\n\t\"./br.js\": \"OSsP\",\n\t\"./bs\": \"aqvp\",\n\t\"./bs.js\": \"aqvp\",\n\t\"./ca\": \"wIgY\",\n\t\"./ca.js\": \"wIgY\",\n\t\"./cs\": \"ssxj\",\n\t\"./cs.js\": \"ssxj\",\n\t\"./cv\": \"N3vo\",\n\t\"./cv.js\": \"N3vo\",\n\t\"./cy\": \"ZFGz\",\n\t\"./cy.js\": \"ZFGz\",\n\t\"./da\": \"YBA/\",\n\t\"./da.js\": \"YBA/\",\n\t\"./de\": \"DOkx\",\n\t\"./de-at\": \"8v14\",\n\t\"./de-at.js\": \"8v14\",\n\t\"./de-ch\": \"Frex\",\n\t\"./de-ch.js\": \"Frex\",\n\t\"./de.js\": \"DOkx\",\n\t\"./dv\": \"rIuo\",\n\t\"./dv.js\": \"rIuo\",\n\t\"./el\": \"CFqe\",\n\t\"./el.js\": \"CFqe\",\n\t\"./en-au\": \"Sjoy\",\n\t\"./en-au.js\": \"Sjoy\",\n\t\"./en-ca\": \"Tqun\",\n\t\"./en-ca.js\": \"Tqun\",\n\t\"./en-gb\": \"hPuz\",\n\t\"./en-gb.js\": \"hPuz\",\n\t\"./en-ie\": \"ALEw\",\n\t\"./en-ie.js\": \"ALEw\",\n\t\"./en-nz\": \"dyB6\",\n\t\"./en-nz.js\": \"dyB6\",\n\t\"./eo\": \"Nd3h\",\n\t\"./eo.js\": \"Nd3h\",\n\t\"./es\": \"LT9G\",\n\t\"./es-do\": \"7MHZ\",\n\t\"./es-do.js\": \"7MHZ\",\n\t\"./es-us\": \"INcR\",\n\t\"./es-us.js\": \"INcR\",\n\t\"./es.js\": \"LT9G\",\n\t\"./et\": \"XlWM\",\n\t\"./et.js\": \"XlWM\",\n\t\"./eu\": \"sqLM\",\n\t\"./eu.js\": \"sqLM\",\n\t\"./fa\": \"2pmY\",\n\t\"./fa.js\": \"2pmY\",\n\t\"./fi\": \"nS2h\",\n\t\"./fi.js\": \"nS2h\",\n\t\"./fo\": \"OVPi\",\n\t\"./fo.js\": \"OVPi\",\n\t\"./fr\": \"tzHd\",\n\t\"./fr-ca\": \"bXQP\",\n\t\"./fr-ca.js\": \"bXQP\",\n\t\"./fr-ch\": \"VK9h\",\n\t\"./fr-ch.js\": \"VK9h\",\n\t\"./fr.js\": \"tzHd\",\n\t\"./fy\": \"g7KF\",\n\t\"./fy.js\": \"g7KF\",\n\t\"./gd\": \"nLOz\",\n\t\"./gd.js\": \"nLOz\",\n\t\"./gl\": \"FuaP\",\n\t\"./gl.js\": \"FuaP\",\n\t\"./gom-latn\": \"+27R\",\n\t\"./gom-latn.js\": \"+27R\",\n\t\"./gu\": \"rtsW\",\n\t\"./gu.js\": \"rtsW\",\n\t\"./he\": \"Nzt2\",\n\t\"./he.js\": \"Nzt2\",\n\t\"./hi\": \"ETHv\",\n\t\"./hi.js\": \"ETHv\",\n\t\"./hr\": \"V4qH\",\n\t\"./hr.js\": \"V4qH\",\n\t\"./hu\": \"xne+\",\n\t\"./hu.js\": \"xne+\",\n\t\"./hy-am\": \"GrS7\",\n\t\"./hy-am.js\": \"GrS7\",\n\t\"./id\": \"yRTJ\",\n\t\"./id.js\": \"yRTJ\",\n\t\"./is\": \"upln\",\n\t\"./is.js\": \"upln\",\n\t\"./it\": \"FKXc\",\n\t\"./it.js\": \"FKXc\",\n\t\"./ja\": \"ORgI\",\n\t\"./ja.js\": \"ORgI\",\n\t\"./jv\": \"JwiF\",\n\t\"./jv.js\": \"JwiF\",\n\t\"./ka\": \"RnJI\",\n\t\"./ka.js\": \"RnJI\",\n\t\"./kk\": \"j+vx\",\n\t\"./kk.js\": \"j+vx\",\n\t\"./km\": \"5j66\",\n\t\"./km.js\": \"5j66\",\n\t\"./kn\": \"gEQe\",\n\t\"./kn.js\": \"gEQe\",\n\t\"./ko\": \"eBB/\",\n\t\"./ko.js\": \"eBB/\",\n\t\"./ky\": \"6cf8\",\n\t\"./ky.js\": \"6cf8\",\n\t\"./lb\": \"z3hR\",\n\t\"./lb.js\": \"z3hR\",\n\t\"./lo\": \"nE8X\",\n\t\"./lo.js\": \"nE8X\",\n\t\"./lt\": \"/6P1\",\n\t\"./lt.js\": \"/6P1\",\n\t\"./lv\": \"jxEH\",\n\t\"./lv.js\": \"jxEH\",\n\t\"./me\": \"svD2\",\n\t\"./me.js\": \"svD2\",\n\t\"./mi\": \"gEU3\",\n\t\"./mi.js\": \"gEU3\",\n\t\"./mk\": \"Ab7C\",\n\t\"./mk.js\": \"Ab7C\",\n\t\"./ml\": \"oo1B\",\n\t\"./ml.js\": \"oo1B\",\n\t\"./mr\": \"5vPg\",\n\t\"./mr.js\": \"5vPg\",\n\t\"./ms\": \"ooba\",\n\t\"./ms-my\": \"G++c\",\n\t\"./ms-my.js\": \"G++c\",\n\t\"./ms.js\": \"ooba\",\n\t\"./my\": \"F+2e\",\n\t\"./my.js\": \"F+2e\",\n\t\"./nb\": \"FlzV\",\n\t\"./nb.js\": \"FlzV\",\n\t\"./ne\": \"/mhn\",\n\t\"./ne.js\": \"/mhn\",\n\t\"./nl\": \"3K28\",\n\t\"./nl-be\": \"Bp2f\",\n\t\"./nl-be.js\": \"Bp2f\",\n\t\"./nl.js\": \"3K28\",\n\t\"./nn\": \"C7av\",\n\t\"./nn.js\": \"C7av\",\n\t\"./pa-in\": \"pfs9\",\n\t\"./pa-in.js\": \"pfs9\",\n\t\"./pl\": \"7LV+\",\n\t\"./pl.js\": \"7LV+\",\n\t\"./pt\": \"ZoSI\",\n\t\"./pt-br\": \"AoDM\",\n\t\"./pt-br.js\": \"AoDM\",\n\t\"./pt.js\": \"ZoSI\",\n\t\"./ro\": \"wT5f\",\n\t\"./ro.js\": \"wT5f\",\n\t\"./ru\": \"ulq9\",\n\t\"./ru.js\": \"ulq9\",\n\t\"./sd\": \"fW1y\",\n\t\"./sd.js\": \"fW1y\",\n\t\"./se\": \"5Omq\",\n\t\"./se.js\": \"5Omq\",\n\t\"./si\": \"Lgqo\",\n\t\"./si.js\": \"Lgqo\",\n\t\"./sk\": \"OUMt\",\n\t\"./sk.js\": \"OUMt\",\n\t\"./sl\": \"2s1U\",\n\t\"./sl.js\": \"2s1U\",\n\t\"./sq\": \"V0td\",\n\t\"./sq.js\": \"V0td\",\n\t\"./sr\": \"f4W3\",\n\t\"./sr-cyrl\": \"c1x4\",\n\t\"./sr-cyrl.js\": \"c1x4\",\n\t\"./sr.js\": \"f4W3\",\n\t\"./ss\": \"7Q8x\",\n\t\"./ss.js\": \"7Q8x\",\n\t\"./sv\": \"Fpqq\",\n\t\"./sv.js\": \"Fpqq\",\n\t\"./sw\": \"DSXN\",\n\t\"./sw.js\": \"DSXN\",\n\t\"./ta\": \"+7/x\",\n\t\"./ta.js\": \"+7/x\",\n\t\"./te\": \"Nlnz\",\n\t\"./te.js\": \"Nlnz\",\n\t\"./tet\": \"gUgh\",\n\t\"./tet.js\": \"gUgh\",\n\t\"./th\": \"XzD+\",\n\t\"./th.js\": \"XzD+\",\n\t\"./tl-ph\": \"3LKG\",\n\t\"./tl-ph.js\": \"3LKG\",\n\t\"./tlh\": \"m7yE\",\n\t\"./tlh.js\": \"m7yE\",\n\t\"./tr\": \"k+5o\",\n\t\"./tr.js\": \"k+5o\",\n\t\"./tzl\": \"iNtv\",\n\t\"./tzl.js\": \"iNtv\",\n\t\"./tzm\": \"FRPF\",\n\t\"./tzm-latn\": \"krPU\",\n\t\"./tzm-latn.js\": \"krPU\",\n\t\"./tzm.js\": \"FRPF\",\n\t\"./uk\": \"ntHu\",\n\t\"./uk.js\": \"ntHu\",\n\t\"./ur\": \"uSe8\",\n\t\"./ur.js\": \"uSe8\",\n\t\"./uz\": \"XU1s\",\n\t\"./uz-latn\": \"/bsm\",\n\t\"./uz-latn.js\": \"/bsm\",\n\t\"./uz.js\": \"XU1s\",\n\t\"./vi\": \"0X8Q\",\n\t\"./vi.js\": \"0X8Q\",\n\t\"./x-pseudo\": \"e/KL\",\n\t\"./x-pseudo.js\": \"e/KL\",\n\t\"./yo\": \"YXlc\",\n\t\"./yo.js\": \"YXlc\",\n\t\"./zh-cn\": \"Vz2w\",\n\t\"./zh-cn.js\": \"Vz2w\",\n\t\"./zh-hk\": \"ZUyn\",\n\t\"./zh-hk.js\": \"ZUyn\",\n\t\"./zh-tw\": \"BbgG\",\n\t\"./zh-tw.js\": \"BbgG\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"uslO\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = uslO\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1342f507\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LandingPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./LandingPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1342f507\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./LandingPage.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1342f507\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/LandingPage.vue\n// module id = wSyU\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spotify\"}},[_c('div',{attrs:{\"id\":\"search\"}},[_c('div',{staticClass:\"spacing\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],attrs:{\"id\":\"search-input\",\"placeholder\":\"Search for a song, artist, album or playlist\",\"type\":\"text\"},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"results\"}},[_c('table',[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.search.results),function(result){return _c('tr',[_c('td',[_vm._v(_vm._s(result.track.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"mkArtistString\")(result.track.artists)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(result.track.album.name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(result.playlist.name))]),_vm._v(\" \"),_c('td',{attrs:{\"title\":_vm._f(\"inCalendarTime\")(result.added_at)}},[_vm._v(_vm._s(_vm._f(\"inRelativeTime\")(result.added_at)))])])}))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Song\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Artist\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Album\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Playlist\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Added\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-770250fb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Spotify.vue\n// module id = wxI/\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <transition name=\"view\" mode=\"out-in\">\n      <component v-bind:is=\"currentView\"></component>\n    </transition>\n    <div id=\"footer\">\n      Logo from <a href=\"https://icons8.com/\">Icons8</a>.\n    </div>\n  </div>\n</template>\n\n<script>\nimport LandingPage from '@/components/LandingPage.vue'\nimport Spotify from '@/components/Spotify.vue'\nimport { State } from '@/store'\n\n// TODO: Compatibility check\n// window.indexedDB\n// Chrome 57+ and Opera 17+; IE10+, FF 16+\n\nexport default {\n  name: 'app',\n  components: {\n    Spotify,\n    LandingPage\n  },\n  computed: {\n    currentView: function () {\n      return State.Ready.hasInstance(this.$store.state.state) ? Spotify : LandingPage\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n\n@import url(https://fonts.googleapis.com/css?family=Montserrat);\n\nhtml {\n  height: 100%;\n  box-sizing: border-box;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n}\n\nbody {\n  position: relative;\n  margin: 0;\n  padding-bottom: 3rem;\n  min-height: 100%;\n\n  background-color: #121314;\n  color: #fff;\n\n  font-family: Montserrat, 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n}\n\n#app {\n\n}\n\n#footer {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  padding: 1rem;\n}\n\na {\n  color: #1db954;\n}\n\n.view-enter-active, .view-leave-active {\n  transition: opacity .5s\n}\n.view-enter, .view-leave-to {\n  opacity: 0\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?19c45198"],"sourceRoot":""}